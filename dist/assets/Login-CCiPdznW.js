import{u as V,r as d,c as k,a as s,b as o,d as t,w as u,e as h,f as x,o as C}from"./index-CPnQyNTi.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as a}from"./function-call-B6h5_xHM.js";import"./mount-component-DwzMd02N.js";const S={class:"login-page"},B={class:"login-container"},N={class:"login-logo"},U={class:"submit-btn"},j={__name:"Login",setup(q){const i=x(),p=V(),n=d(""),l=d(""),c=async v=>{a({type:"loading",message:"登录中...",forbidClick:!0,duration:0});try{const e=await p.login({username:n.value,password:l.value});e.success?(a({type:"success",message:e.message}),i.push("/")):a({type:"fail",message:e.message})}catch{a({type:"fail",message:"登录失败，请稍后再试"})}},_=()=>{i.back()};return(v,e)=>{const g=t("van-nav-bar"),f=t("van-image"),m=t("van-field"),b=t("van-cell-group"),y=t("van-button"),w=t("van-form");return C(),k("div",S,[s(g,{title:"用户登录","left-arrow":"",onClickLeft:_,fixed:""}),o("div",B,[o("div",N,[s(f,{width:"80",height:"80",src:"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg",round:""}),e[2]||(e[2]=o("h2",null,"新闻资讯",-1))]),s(w,{onSubmit:c,class:"login-form"},{default:u(()=>[s(b,{inset:""},{default:u(()=>[s(m,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=r=>n.value=r),name:"username",label:"用户名",placeholder:"请输入用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),s(m,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),type:"password",name:"password",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),o("div",U,[s(y,{round:"",block:"",type:"primary","native-type":"submit",size:"large"},{default:u(()=>[...e[3]||(e[3]=[h(" 登录 ",-1)])]),_:1})]),e[4]||(e[4]=o("div",{class:"login-tips"},[o("p",null,"测试账号：admin"),o("p",null,"测试密码：123456")],-1))]),_:1})])])}}},R=L(j,[["__scopeId","data-v-8e6be880"]]);export{R as default};
